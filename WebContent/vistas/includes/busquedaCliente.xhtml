<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
		<ui:insert name="busqueda">
			<h:form>
				<h:panelGrid columns="2">
					<p:growl id="messages" />
					<p:splitButton value="Buscar Cliente" icon="ui-icon-search"
						update="messages"
						onclick="PF('dlgClientes').show();habilitarCliente(true);">
						<p:menuitem value="Nuevo Cliente" icon="ui-icon-document"
							action="#{clientMB.clean()}" onclick="limpiarCliente();" />
						<p:menuitem value="Modificar Cliente" icon="ui-icon-wrench"
							action="#{clientMB.clean()}" onclick="limpiarCliente();" />
						<p:separator />
						<p:menuitem value="Confirmar Cambios" icon="ui-icon-disk"
							disable="true" />
					</p:splitButton>
				</h:panelGrid>
			</h:form>
		</ui:insert>
		<ui:insert name="formulario">
			<h:form id="clienteForm">
				<p:fieldset id="dataCliente" legend="Datos principales"
					widgetVar="fieldPrincipal_Cliente">
					<h:panelGrid columns="2">
						<h:column>
							<p:outputLabel id="nombre" value="Nombres " />
							<br />
						</h:column>
						<h:column>
							<p:inputText id="nombresCliente" for="nombre"
								value="#{clientMB.cliente.nombre} #{clientMB.cliente.apellidos}"
								required="true" readonly="true" style="width:500px" />
							<p:watermark for="nombresCliente"
								value="Ingrese nombres y apellidos del cliente" />
						</h:column>
					</h:panelGrid>
				</p:fieldset>
				<p:fieldset id="dataAdicional" legend="Datos adicionales" widgetVar="fieldAdicional_Cliente">
					<h:panelGrid columns="4">
						<h:column>
							<p:outputLabel id="correo" value="E-mail " />
							<br />
							<p:outputLabel id="direccion" value="Direccion " />
						</h:column>
						<h:column>
							<p:inputText id="correoCliente" for="correo"
								value="#{clientMB.cliente.email}" readonly="true" />
							<br />
							<p:inputText id="direccionCliente" for="direccion"
								value="#{clientMB.cliente.direccion}" readonly="true" />
						</h:column>
						<h:column>
							<p:outputLabel id="dni" value="DNI  " />
							<br />
							<p:outputLabel id="ruc" value="RUC  " />
						</h:column>
						<h:column>
							<p:inputText id="dniCliente" for="dni"
								value="#{clientMB.documentosCliente[0]}" readonly="true"
								required="true" />
							<br />
							<p:inputText id="rucCliente" for="ruc"
								value="#{clientMB.documentosCliente[1]}" readonly="true"
								required="true" />
						</h:column>
					</h:panelGrid>
				</p:fieldset>
			</h:form>
		</ui:insert>
	<ui:insert name="dialogo">
		<h:form id="dialogClientes">
			<p:dialog header="Busqueda Clientes" widgetVar="dlgClientes"
				modal="true">
				<p:dataTable id="busquedaclientes" var="cliente"
					rows="#{clientMB.clientes.size()}" value="#{clientMB.clientes}"
					emptyMessage="Cliente(s) no encontrado(s)"
					filteredValue="#{clientMB.filteredClientes}">
					<p:column filterBy="#{cliente.nombre}" headerText="Nombre"
						filterMatchMode="contains">
						<h:outputText value="#{cliente.nombre}" />
					</p:column>
					<p:column filterBy="#{cliente.apellidos}" headerText="Apellidos">
						<h:outputText value="#{cliente.apellidos}" />
					</p:column>
					<p:column filterBy="#{cliente.direccion}" headerText="DNI/RUC">
						<h:outputText value="#{cliente.direccion}" />
					</p:column>
					<p:column filterBy="#{cliente.email}" headerText="e-mail">
						<h:outputText value="#{cliente.email}" />
					</p:column>
					<p:column headerText="Seleccionar Cliente">
						<p:commandButton value="Seleccionar"
							actionListener="#{clientMB.asignarCliente(cliente)}"
							onclick="PF('dlgClientes').close();"
							update="@widgetVar(fieldPrincipal_Cliente),@widgetVar(fieldAdicional_Cliente)" />
					</p:column>
				</p:dataTable>
			</p:dialog>
		</h:form>
	</ui:insert>
</ui:composition>
